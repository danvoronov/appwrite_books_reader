# Селектор книг

## Новая функциональность

Теперь при запуске приложения вы можете выбирать книгу интерактивно, а не использовать хардкодное название.

### Автоматическое использование готовых глав

Приложение автоматически проверяет папку `D:\Nextcloud\Coding\REM\epub2chapters\output\` на наличие уже обработанных глав:

- ✅ **Если найдены готовые главы** - использует их сразу, без чтения epub файла
- 📖 **Если глав нет** - читает и обрабатывает epub файл как обычно
- 🔄 **Принудительное чтение** - флаг `--force-epub` заставляет читать из epub даже при наличии готовых глав

## Как это работает

1. **Интерактивный выбор** - при запуске `npm start` появится список доступных книг из папки `../epub/`
2. **Запоминание последней книги** - выбранная книга сохраняется в файл `last_book.json`
3. **Быстрый выбор** - при следующем запуске можно нажать `0` или `Enter` для выбора последней книги
4. **Параметр командной строки** - можно указать книгу через параметр: `npm start -- --book "название_книги"`

## Примеры использования

```bash
# Интерактивный выбор книги
npm start

# Указать книгу через параметр
npm start -- --book "essentialism"

# Указать книгу и главу
npm start -- --book "essentialism" --number 5

# Принудительно читать из epub даже если есть готовые главы
npm start -- --book "essentialism" --force-epub

# Сокращенные флаги
npm start -- -b "essentialism" -f -n 5
```

## Структура папок

```
../epub/           # Папка с .epub файлами
  ├── book1.epub
  ├── book2.epub
  └── ...
./last_book.json   # Файл с последней выбранной книгой
```

## Интерфейс выбора

```
📚 Доступные книги:
┌─────┬─────────────────────────────────────────────┐
│  №  │                 Название                    │
├─────┼─────────────────────────────────────────────┤
│  0  │ essentialism                                │ ⭐ (последняя)
├─────┼─────────────────────────────────────────────┤
│  1  │ book1                                       │
│  2  │ book2                                       │
└─────┴─────────────────────────────────────────────┘

🎯 Введите номер книги (0 для последней, Enter для последней):
```